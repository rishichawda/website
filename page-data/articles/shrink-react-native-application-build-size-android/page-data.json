{
    "componentChunkName": "component---src-pages-mdx-slug-tsx",
    "path": "/articles/shrink-react-native-application-build-size-android/",
    "result": {"data":{"mdx":{"frontmatter":{"title":"Shrink your React Native application size dramatically!","date":"September 20, 2018"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Shrink your React Native application size dramatically!\",\n  \"date\": \"2018-09-20T22:12:03.284Z\",\n  \"keywords\": \"react native application build, react native android application, descrease android application build size, reduce application build size, react native build configuration, react native android build gradle, react native development\",\n  \"description\": \"To reduce your react native application size for android, we'll need to configure the build file to generate a compressed bundle for your react native app and then split it into multiple bundles for all architectures so that it can be made more lightweight.\",\n  \"path\": \"/articles/shrink-react-native-application-build-size-android/\",\n  \"banner\": \"content/blog/shrink-react-native-application-build-size-android/rn_logo_medium.png\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"So you made a cool and awesome looking \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://facebook.github.io/react-native/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"React Native\"), \" app, and now you\\u2019re ready to build it and maybe publish it to the store \\u2014\"), mdx(\"p\", null, \"But worried about it if the users would want to install it given its build size? Or maybe you just want to keep it lightweight and not take too much memory unnecessarily when it can be packed into a smaller size?\"), mdx(\"p\", null, \"Or you\\u2019re just one of us who are paranoid about build sizes? Don\\u2019t worry, we got you covered! \\uD83D\\uDE04 \\u2714\\uFE0F\"), mdx(\"hr\", null), mdx(\"p\", null, \"In this article, we will cover the following two things:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Compress the react native application size - by compressing the java bytecode that is generated while building our app and also asking it to try and shrink all the resources that are bundled with the application.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Splitting our application bundle into multiple APKs to remove unnecessary code which is not required by the device which is going to run it - because a lot of code is bundled with the universal APK that is device-specific - meaning that we don\\u2019t need a lot of code in the device we\\u2019re going to install it in.\"))), mdx(\"hr\", null), mdx(\"p\", null, \"Let\\u2019s get started! \\u270A\"), mdx(\"p\", null, \"First of all, you\\u2019ll need to eject your native app if you\\u2019re using \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/react-community/create-react-native-app\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"create-react-native-app\"), \" for your project ( You might have already done this if you\\u2019ve built your application before reading this article ). This is important since you don\\u2019t have access to configurations until you eject, as the build folder is where we have to make changes. If you haven\\u2019t, you can simply do this by :\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"npm\"), \" run \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"eject\")))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Note :\"), \" Ejecting a react native application is a permanent action! ( Unless you\\u2019re using a version control system to keep track of previous versions of your app \\u2014 from where you can recover the \\u2018unejected\\u2019 version of your app later if you need ). \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/react-community/create-react-native-app/blob/master/EJECTING.md%22\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"Learn more about ejecting.\")), mdx(\"p\", null, \"Okay, so now we\\u2019re all set! Let\\u2019s get started and get that done fast. Don\\u2019t worry, it just takes a few minutes, and your app size will shrink dramatically!\"), mdx(\"p\", null, \"Now, navigate to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"android/app\"), \" folder from your project root directory where you can find your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"build.gradle\"), \" file.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1000px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/25ba134005f96a46671f3b256da53f8c/00d43/rrnas-1.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"58.4375%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABjUlEQVQoz42RW2/aUBCE99z2+GAbY4wJ2HUEBpvYiQklNCEYeknc5uaQqCr0If3/vyOCKC8VVRl9D7MPI81o4WG1vl+/XBbltCgXd8/5zbJc/7ksyvntU/5jeXF1Xzz/nt8+fS1/FsvV7Pvj3a+XafFwvVyl4xzOPnWkXdVNC1WFoRSaYqhxqTGUDDW2NVyq7bmBCslQUS7sIIReJ7Dt+slx0m4dUEJgDxFCAaBz8QVc1zkM/PPJ+PN8NjrNmq4T+G3HtgQjUrC/wDeDnAH0pwtwXDfs97Jh5jQct+maVtWq1XTTQCmlpu1EU4pT2s+/Qd11DcMYxHG321VK7Vd7sy44y8FuNADA8/wkSTkX+28OJjmMPo4oQM1USdxL4p5ZkZwQpCA5+ReaYBwgms4hjvtIoWGZadSdnY/Hw9Rr1i0dFYeKIDvRkSFAOltAdJwBwAffPx0OB4O4WjU9r63rlW293VC6qX04yYFyIVC2DlonWTY4Otrn1W+bN2GGSCiViGEYRlGkv8swjP+GXwGuZC6GfUbyoQAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"post\",\n    \"title\": \"post\",\n    \"src\": \"/static/25ba134005f96a46671f3b256da53f8c/00d43/rrnas-1.png\",\n    \"srcSet\": [\"/static/25ba134005f96a46671f3b256da53f8c/72799/rrnas-1.png 320w\", \"/static/25ba134005f96a46671f3b256da53f8c/6af66/rrnas-1.png 640w\", \"/static/25ba134005f96a46671f3b256da53f8c/00d43/rrnas-1.png 1000w\"],\n    \"sizes\": \"(max-width: 1000px) 100vw, 1000px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Here, you\\u2019ll find your default build configurations already set up, find the line which looks like this :\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"groovy\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-groovy\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-groovy\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"def\"), \" enableProguardInReleaseBuilds \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token boolean\"\n  }, \"false\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"def\"), \" enableSeparateBuildPerCPUArchitecture \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token boolean\"\n  }, \"false\")))), mdx(\"p\", null, \"and change their value to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"true\"), \" like this :\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"groovy\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-groovy\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-groovy\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"def\"), \" enableProguardInReleaseBuilds \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token boolean\"\n  }, \"true\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"def\"), \" enableSeparateBuildPerCPUArchitecture \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token boolean\"\n  }, \"true\")))), mdx(\"p\", null, \"So you might be wondering what it does. Well, if you scroll down a bit you\\u2019ll see \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"enableProguardInReleaseBuilds\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"enableSeparateBuildPerCPUArchitecture\"), \" written at a few more places like here:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1000px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/61d0d2c3a3a55e365e49c6aad1ffef60/00d43/rrnas-2.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"31.5625%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwklEQVQY05WPwW7DIBAFl8QsLGBDIJiAcGrLSD61/f+/q2ijXCK16txHbx6UUhDRWltr9d6TUlobbYwxo9aaSMILiHh/qxwHiDEiIgDkXD7fP9re5lsuJaYcQ/KXqxOE0ggk/pSFwFuOXHBIKSFiH1EKOR8YnADODBj8AWMMfrJDCMdx9GxSxvTscRyttVLKX2yY55nznuR92FtblmXbtnVd99butaaLtUpOJEkIp2giOZEYzqeH75zj38A/6J+kmb4AhZUM2zOhYdEAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"post\",\n    \"title\": \"post\",\n    \"src\": \"/static/61d0d2c3a3a55e365e49c6aad1ffef60/00d43/rrnas-2.png\",\n    \"srcSet\": [\"/static/61d0d2c3a3a55e365e49c6aad1ffef60/72799/rrnas-2.png 320w\", \"/static/61d0d2c3a3a55e365e49c6aad1ffef60/6af66/rrnas-2.png 640w\", \"/static/61d0d2c3a3a55e365e49c6aad1ffef60/00d43/rrnas-2.png 1000w\"],\n    \"sizes\": \"(max-width: 1000px) 100vw, 1000px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"As you can see, these variables are being used to enable or disable two build configurations \\u2014\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"One for generating separate .apks for different device architectures,\")), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"groovy\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-groovy\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-groovy\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"...\"), \"\\nsplits \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n abi \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"reset\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n enable enableSeparateBuildPerCPUArchitecture\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"...\")))), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Don\\u2019t worry about having to handle different .apks for each architecture \\u2014 Google takes care of distributing it to the users! And separating the builds according to architecture removes unnecessary code from your file which is not required on the device it is running.\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Another one for compressing the Java bytecode generated while building, as in,\")), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"groovy\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-groovy\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-groovy\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"...\"), \"\\nbuildTypes \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n release \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n minifyEnabled enableProguardInReleaseBuilds\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"...\")))), mdx(\"p\", null, \"Phew, that was pretty easy! But wait, we\\u2019re not done yet! There\\u2019s one little thing we need to do.\"), mdx(\"p\", null, \"Now let\\u2019s add this line right below the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"minifyEnabled\"), \" configuration :\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"groovy\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-groovy\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-groovy\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"...\"), \"\\nbuildTypes \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n release \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n minifyEnabled enableProguardInReleaseBuilds\\n shrinkResources \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token boolean\"\n  }, \"true\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"/* <-- Add this line */\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"...\")))), mdx(\"p\", null, \"And we\\u2019re done! Now build your app again and check the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"output\"), \" directory. You\\u2019ll find two different APKs of your app, which is specified in the configuration by default, i.e., for \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"armebi\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"x86\"), \" architectures.\"), mdx(\"p\", null, \"Oh, and by the way, if you need a universal APK that supports all device architectures \\u2014 just set \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"universalApk\"), \" to true, and it\\u2019ll generate a universal APK next time you run build!\"), mdx(\"p\", null, \"That\\u2019s all! Now you\\u2019ve set up your build configuration to shrink your code along with resources and create separate APK for different architectures \\u2014 thus removing unnecessary code from the final build.\"), mdx(\"p\", null, \"Thanks for reading! You can check out more resources on \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developer.android.com/studio/build/shrink-code\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }, \"how to reduce the application build size\"), \".\"), mdx(\"br\", null), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Did you like this article? Or did I miss something? Is there something that you have that can be added to this article \\u2013 that can make it even better?\")), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Please leave a comment below, or you can also contact me through my \", mdx(\"a\", {\n    parentName: \"em\",\n    \"href\": \"/\"\n  }, \"social media profiles\"), \".\")), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Thank you for reading!\"), \" \\uD83D\\uDE04\"), mdx(\"br\", null), mdx(\"p\", null, \"Happy Hacking! Cheers!\"), mdx(\"hr\", null));\n}\n;\nMDXContent.isMDXComponent = true;","timeToRead":3}},"pageContext":{"id":"3cda128e-e692-5dfa-976b-8aac4aefda8b","slug":"articles/shrink-react-native-application-build-size-android/","__params":{"slug":"articles"}}},
    "staticQueryHashes": ["3116433873"]}