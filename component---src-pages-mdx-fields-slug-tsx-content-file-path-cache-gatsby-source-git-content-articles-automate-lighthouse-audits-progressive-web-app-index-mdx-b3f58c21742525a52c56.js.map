{"version":3,"file":"component---src-pages-mdx-fields-slug-tsx-content-file-path-cache-gatsby-source-git-content-articles-automate-lighthouse-audits-progressive-web-app-index-mdx-b3f58c21742525a52c56.js","mappings":"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","sources":["webpack://rishikc.com/./.cache/gatsby-source-git/content/articles/automate-lighthouse-audits-progressive-web-app/index.mdx","webpack://rishikc.com/./src/pages/{mdx.fields__slug}.tsx"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    ul: \"ul\",\n    li: \"li\",\n    a: \"a\",\n    h2: \"h2\",\n    span: \"span\",\n    code: \"code\",\n    img: \"img\",\n    em: \"em\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.p, null, \"We all know how valuable and helpful the insights are from lighthouse audits when we’re developing our web applications. But the way most of us check is manually through Chrome dev tools or the lighthouse extension, which in my opinion, is not very productive.\"), \"\\n\", React.createElement(_components.p, null, \"For those of us who don’t know, there are mainly four ways of auditing our web application with lighthouse :\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"via Chrome dev tools\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"Command-line\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, \"NPM module\\n( which we are going to use in a while )\"), \"\\n\"), \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, React.createElement(_components.a, {\n    href: \"https://developers.google.com/speed/pagespeed/insights/\",\n    target: \"_blank\",\n    rel: \"nofollow noopener noreferrer\"\n  }, \"PageSpeed Insights\")), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(\"hr\"), \"\\n\", React.createElement(_components.h2, {\n    id: \"dependencies\",\n    style: {\n      position: \"relative\"\n    }\n  }, React.createElement(_components.a, {\n    href: \"#dependencies\",\n    \"aria-label\": \"dependencies permalink\",\n    className: \"autolink-header-icon before\"\n  }, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg>\"\n    }\n  })), \"Dependencies\"), \"\\n\", React.createElement(_components.p, null, \"To programmatically perform lighthouse audits, we can use the \", React.createElement(_components.a, {\n    href: \"https://www.npmjs.com/package/lighthouse\",\n    target: \"_blank\",\n    rel: \"nofollow noopener noreferrer\"\n  }, \"lighthouse npm package\"), \", \", React.createElement(_components.a, {\n    href: \"https://mochajs.org/\",\n    target: \"_blank\",\n    rel: \"nofollow noopener noreferrer\"\n  }, \"mocha\"), \", and \", React.createElement(_components.a, {\n    href: \"https://www.chaijs.com\",\n    target: \"_blank\",\n    rel: \"nofollow noopener noreferrer\"\n  }, \"chai\"), \" for writing our tests and \", React.createElement(_components.a, {\n    href: \"https://www.npmjs.com/package/chrome-launcher\",\n    target: \"_blank\",\n    rel: \"nofollow noopener noreferrer\"\n  }, \"chrome-launcher\"), \" for running our lighthouse tests.\"), \"\\n\", React.createElement(_components.p, null, \"First, let’s install the above packages as dev dependencies in our project :\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\"><pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">npm</span> <span class=\\\"token function\\\">install</span> lighthouse chrome-launcher chai mocha --save-dev</code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.h2, {\n    id: \"set-up-lighthouse\",\n    style: {\n      position: \"relative\"\n    }\n  }, React.createElement(_components.a, {\n    href: \"#set-up-lighthouse\",\n    \"aria-label\": \"set up lighthouse permalink\",\n    className: \"autolink-header-icon before\"\n  }, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg>\"\n    }\n  })), \"Set up lighthouse\"), \"\\n\", React.createElement(_components.p, null, \"Now, let’s create a file named \", React.createElement(_components.code, null, \"lighthouse.tests.js\"), \" in our \", React.createElement(_components.code, null, \"tests\"), \" directory. We’ll run our lighthouse audits through this file. Here, we’ll import the lighthouse module and chrome launcher that helps us to open our webpage from the local development server and run the audits to test against a minimum threshold that we want our lighthouse scores to be.\"), \"\\n\", React.createElement(_components.p, null, \"While this might sound a lot to do, it isn’t much. Here’s what it looks like on actual code :\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"js\\\"><pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">const</span> lighthouse <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"lighthouse\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">const</span> chromeLauncher <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"chrome-launcher\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">launchChromeAndRunLighthouse</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">url<span class=\\\"token punctuation\\\">,</span> opts<span class=\\\"token punctuation\\\">,</span> conf <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">null</span></span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">return</span> chromeLauncher\\n    <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">launch</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span> <span class=\\\"token literal-property property\\\">chromeFlags</span><span class=\\\"token operator\\\">:</span> opts<span class=\\\"token punctuation\\\">.</span>chromeFlags <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">chrome</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n      opts<span class=\\\"token punctuation\\\">.</span>port <span class=\\\"token operator\\\">=</span> chrome<span class=\\\"token punctuation\\\">.</span>port<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">return</span> <span class=\\\"token function\\\">lighthouse</span><span class=\\\"token punctuation\\\">(</span>url<span class=\\\"token punctuation\\\">,</span> opts<span class=\\\"token punctuation\\\">,</span> conf<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">res</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span>\\n        chrome<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">kill</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> res<span class=\\\"token punctuation\\\">.</span>lhr<span class=\\\"token punctuation\\\">)</span>\\n      <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"And it is as simple as that. We launch the chrome browser instance with the \", React.createElement(_components.code, null, \"chromeLauncher.launch\"), \" method and then run lighthouse tests with the site URL and configuration for our audits. After that, we close/kill the chrome instance and return the results. And this is how it looks like when in use :\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"js\\\"><pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token function\\\">launchChromeAndRunLighthouse</span><span class=\\\"token punctuation\\\">(</span>testUrl<span class=\\\"token punctuation\\\">,</span> opts<span class=\\\"token punctuation\\\">,</span> config<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">res</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token comment\\\">// Results are available in `res`</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.h2, {\n    id: \"write-the-tests\",\n    style: {\n      position: \"relative\"\n    }\n  }, React.createElement(_components.a, {\n    href: \"#write-the-tests\",\n    \"aria-label\": \"write the tests permalink\",\n    className: \"autolink-header-icon before\"\n  }, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg>\"\n    }\n  })), \"Write the tests\"), \"\\n\", React.createElement(_components.p, null, \"So now, we can put this call inside our \", React.createElement(_components.code, null, \"before\"), \" hook for the tests and then have tests for each metric, something like this :\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"js\\\"><pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token function\\\">describe</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Lighthouse Audits\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">function</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token comment\\\">// Timeout doesn't need to be same. It can be more or less depending on your project.</span>\\n  <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">timeout</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">50000</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">let</span> results<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token function\\\">before</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"run test\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">done</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token function\\\">launchChromeAndRunLighthouse</span><span class=\\\"token punctuation\\\">(</span>testUrl<span class=\\\"token punctuation\\\">,</span> opts<span class=\\\"token punctuation\\\">,</span> config<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">res</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token comment\\\">// Extract the results you need for your assertions.</span>\\n      <span class=\\\"token function\\\">done</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token function\\\">it</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"performance test\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token parameter\\\">done</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">// test your performance score against the threshold</span>\\n    <span class=\\\"token function\\\">done</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token comment\\\">// Some more tests..</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"Still looks weird? Don’t worry! Check out this repository for an example setup of \", React.createElement(_components.a, {\n    href: \"https://github.com/rishichawda/lighthouse-mocha-example\",\n    target: \"_blank\",\n    rel: \"nofollow noopener noreferrer\"\n  }, \"lighthouse tests with mocha\"), \" and try that out with your web application!\"), \"\\n\", React.createElement(_components.p, null, \"This method can be applied to automate the tests in continuous integration/deployment environments so that you don’t have to worry about manually auditing your web application and checking whether it meets the minimum satisfactory levels.\"), \"\\n\", React.createElement(\"hr\"), \"\\n\", React.createElement(_components.p, null, \"So there you go. That’s all we need to do for automating lighthouse audits for our progressive web applications to make sure they are always worthy of the internet and user’s data packets!\"), \"\\n\", React.createElement(_components.img, {\n    src: \"https://i.imgur.com/bTB3UGn.gif\",\n    alt: \"worthy\"\n  }), \"\\n\", React.createElement(\"br\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.em, null, \"Did you like this article? Or did I miss something? Is there something that you have that can make it even better?\"), \"\\n\", React.createElement(_components.em, null, \"Please leave a comment below, or you can also contact me through my \", React.createElement(_components.a, {\n    href: \"/\"\n  }, \"social media profiles\"), \".\")), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.em, null, \"Thank you for reading!\"), \" 😄\"), \"\\n\", React.createElement(\"br\"), \"\\n\", React.createElement(_components.p, null, \"Happy hacking! Cheers! 🎉\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import GATSBY_COMPILED_MDX from \"/Users/rishi/gitphub/personal-website/.cache/gatsby-source-git/content/articles/automate-lighthouse-audits-progressive-web-app/index.mdx\";\nimport \"prismjs/themes/prism-tomorrow.css\";\nimport \"../stylesheets/mdx.scss\";\nimport {motion, useScroll} from \"framer-motion\";\nimport {Link} from \"gatsby\";\nimport {OutboundLink} from \"gatsby-plugin-google-gtag\";\nimport {GatsbyImage} from \"gatsby-plugin-image\";\nimport * as React from \"react\";\nimport Layout from \"../components/layout\";\nimport SEO from \"../components/seo\";\nimport Tag from \"../components/tag\";\nconst Article = props => {\n  var _props$data$mdx$front, _props$data$mdx$front2, _props$data$mdx$front3, _props$data$mdx$front4, _props$data$mdx$front5, _props$data$mdx$front6, _props$data$mdx$front7, _props$data$mdx$front8, _props$data$mdx$front9, _props$data$mdx$front10, _props$data$mdx$front11, _props$data$mdx$front12, _props$data$mdx$front13, _props$data$mdx$front14, _props$data$mdx$front15, _props$data$mdx$field, _props$data$mdx$field2;\n  const {scrollYProgress} = useScroll();\n  const hasHeroImageCredits = ((_props$data$mdx$front = props.data.mdx.frontmatter) === null || _props$data$mdx$front === void 0 ? void 0 : _props$data$mdx$front.hero_image_credit_text) || ((_props$data$mdx$front2 = props.data.mdx.frontmatter) === null || _props$data$mdx$front2 === void 0 ? void 0 : _props$data$mdx$front2.hero_image_credit_link);\n  return React.createElement(Layout, null, React.createElement(\"div\", {\n    className: \"root-container\"\n  }, React.createElement(\"main\", {\n    className: \"article-content-page-container\"\n  }, React.createElement(Link, {\n    className: \"text-brand-700 dark:text-brand-400 hover:text-brand-900 dark:hover:text-brand-700 focus:outline-dotted focus:outline-2 focus:outline-brand-700 back-navigation-link\",\n    to: \"/articles\"\n  }, \"\\xAB\\xA0go back to main list\"), React.createElement(\"div\", {\n    className: \"flex flex-col items-center sm:items-start article-header\"\n  }, React.createElement(\"figure\", null, React.createElement(GatsbyImage, {\n    className: \"article-header-hero-image w-full h-auto\",\n    alt: (_props$data$mdx$front3 = props.data.mdx.frontmatter) === null || _props$data$mdx$front3 === void 0 ? void 0 : _props$data$mdx$front3.hero_image_alt,\n    image: (_props$data$mdx$front4 = props.data.mdx.frontmatter) === null || _props$data$mdx$front4 === void 0 ? void 0 : (_props$data$mdx$front5 = _props$data$mdx$front4.hero_image) === null || _props$data$mdx$front5 === void 0 ? void 0 : (_props$data$mdx$front6 = _props$data$mdx$front5.childImageSharp) === null || _props$data$mdx$front6 === void 0 ? void 0 : _props$data$mdx$front6.gatsbyImageData\n  }), hasHeroImageCredits ? React.createElement(\"figcaption\", null, \"Image credits:\\xA0\", (_props$data$mdx$front7 = props.data.mdx.frontmatter) === null || _props$data$mdx$front7 === void 0 ? void 0 : _props$data$mdx$front7.hero_image_credit_text, (_props$data$mdx$front8 = props.data.mdx.frontmatter) !== null && _props$data$mdx$front8 !== void 0 && _props$data$mdx$front8.hero_image_credit_link ? React.createElement(React.Fragment, null, \"\\xA0\", React.createElement(OutboundLink, {\n    href: (_props$data$mdx$front9 = props.data.mdx.frontmatter) === null || _props$data$mdx$front9 === void 0 ? void 0 : _props$data$mdx$front9.hero_image_credit_link,\n    target: \"_blank\",\n    rel: \"nofollow noopener noreferrer\"\n  }, (_props$data$mdx$front10 = props.data.mdx.frontmatter) === null || _props$data$mdx$front10 === void 0 ? void 0 : _props$data$mdx$front10.hero_image_credit_link)) : null) : null), React.createElement(\"h1\", {\n    className: \"text-center sm:text-left article-header-title\"\n  }, (_props$data$mdx$front11 = props.data.mdx.frontmatter) === null || _props$data$mdx$front11 === void 0 ? void 0 : _props$data$mdx$front11.title), React.createElement(\"h2\", {\n    className: \"text-center sm:text-left article-header-subtitle\"\n  }, (_props$data$mdx$front12 = props.data.mdx.frontmatter) === null || _props$data$mdx$front12 === void 0 ? void 0 : _props$data$mdx$front12.subtitle), React.createElement(\"span\", {\n    className: \"flex flex-wrap items-center justify-center article-header-tags\"\n  }, (_props$data$mdx$front13 = props.data.mdx.frontmatter) === null || _props$data$mdx$front13 === void 0 ? void 0 : (_props$data$mdx$front14 = _props$data$mdx$front13.tags) === null || _props$data$mdx$front14 === void 0 ? void 0 : _props$data$mdx$front14.map(tag => React.createElement(\"span\", null, React.createElement(Tag, {\n    key: tag,\n    focusable: false\n  }, tag)))), React.createElement(\"span\", {\n    className: \"article-header-time\"\n  }, React.createElement(\"span\", null, (_props$data$mdx$front15 = props.data.mdx.frontmatter) === null || _props$data$mdx$front15 === void 0 ? void 0 : _props$data$mdx$front15.date), \"\\xA0\\xA0\", React.createElement(\"strong\", null, \"\\xB7\"), \"\\xA0\\xA0\", React.createElement(\"span\", null, (_props$data$mdx$field = props.data.mdx.fields) === null || _props$data$mdx$field === void 0 ? void 0 : (_props$data$mdx$field2 = _props$data$mdx$field.timeToRead) === null || _props$data$mdx$field2 === void 0 ? void 0 : _props$data$mdx$field2.text))), React.createElement(motion.div, {\n    className: \"progress-bar\",\n    style: {\n      scaleX: scrollYProgress\n    }\n  }), React.createElement(\"section\", {\n    className: \"flex flex-col\",\n    itemProp: \"articleBody\"\n  }, props.children))));\n};\nconst query = \"3064334658\";\nexport const Head = _ref => {\n  var _data$mdx$frontmatter, _data$mdx$frontmatter2, _data$mdx$frontmatter3, _data$mdx$frontmatter4, _data$mdx$frontmatter5;\n  let {data} = _ref;\n  return React.createElement(SEO, {\n    title: (_data$mdx$frontmatter = data.mdx.frontmatter) === null || _data$mdx$frontmatter === void 0 ? void 0 : _data$mdx$frontmatter.title,\n    description: (_data$mdx$frontmatter2 = data.mdx.frontmatter) === null || _data$mdx$frontmatter2 === void 0 ? void 0 : _data$mdx$frontmatter2.description,\n    keywords: (_data$mdx$frontmatter3 = data.mdx.frontmatter) === null || _data$mdx$frontmatter3 === void 0 ? void 0 : _data$mdx$frontmatter3.keywords,\n    image: (_data$mdx$frontmatter4 = data.mdx.frontmatter) === null || _data$mdx$frontmatter4 === void 0 ? void 0 : (_data$mdx$frontmatter5 = _data$mdx$frontmatter4.hero_image) === null || _data$mdx$frontmatter5 === void 0 ? void 0 : _data$mdx$frontmatter5.publicURL,\n    type: \"BlogPosting\"\n  });\n};\nArticle\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(Article, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\n"],"names":["_createMdxContent","props","_components","Object","assign","p","ul","li","a","h2","span","code","img","em","_provideComponents","components","React","href","target","rel","id","style","position","className","dangerouslySetInnerHTML","__html","src","alt","wrapper","MDXLayout","Article","_props$data$mdx$front","_props$data$mdx$front2","_props$data$mdx$front3","_props$data$mdx$front4","_props$data$mdx$front5","_props$data$mdx$front6","_props$data$mdx$front7","_props$data$mdx$front8","_props$data$mdx$front9","_props$data$mdx$front10","_props$data$mdx$front11","_props$data$mdx$front12","_props$data$mdx$front13","_props$data$mdx$front14","_props$data$mdx$front15","_props$data$mdx$field","_props$data$mdx$field2","scrollYProgress","useScroll","hasHeroImageCredits","data","mdx","frontmatter","hero_image_credit_text","hero_image_credit_link","Layout","Link","to","GatsbyImage","hero_image_alt","image","hero_image","childImageSharp","gatsbyImageData","OutboundLink","title","subtitle","tags","map","tag","Tag","key","focusable","date","fields","timeToRead","text","motion","scaleX","itemProp","children","Head","_ref","_data$mdx$frontmatter","_data$mdx$frontmatter2","_data$mdx$frontmatter3","_data$mdx$frontmatter4","_data$mdx$frontmatter5","SEO","description","keywords","publicURL","type","GatsbyMDXWrapper","GATSBY_COMPILED_MDX"],"sourceRoot":""}